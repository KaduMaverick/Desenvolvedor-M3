"use strict";$("select").each((function(){var t=$(this),e=$(this).children("option").length;t.addClass("select-hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select-styled"></div>');var o=t.next("div.select-styled");o.text(t.children("option").eq(0).text());for(var i=$("<ul />",{class:"select-options"}).insertAfter(o),c=0;c<e;c++)$("<li />",{text:t.children("option").eq(c).text(),rel:t.children("option").eq(c).val()}).appendTo(i);var s=i.children("li");o.click((function(t){t.stopPropagation(),$("div.select-styled.active").not(this).each((function(){$(this).removeClass("active").next("ul.select-options").hide()})),$(this).toggleClass("active").next("ul.select-options").toggle()})),s.click((function(e){e.stopPropagation(),o.text($(this).text()).removeClass("active"),t.val($(this).attr("rel")),i.hide(),catalog._changeProducts()})),$(document).click((function(){o.removeClass("active"),i.hide()}))}));var productslist=[{product:"CAMISETA MESCLA",img:"/img/img_2.png",price:28,displayPrice:"28,00",paymentTimes:"3x de R$9,33",colors:["cinza"],sizes:["p","m","g","gg"],addedOn:"2015-05-26 12:00:00"},{product:"SAIA EM COURO",img:"/img/img_3.png",price:398,displayPrice:"398,00",paymentTimes:"5x de R$30,00",colors:["marron"],sizes:["36","40","42","44"],addedOn:"2009-05-26 12:00:00"},{product:"CARDIGAN TIGRE",img:"/img/img_4.png",price:398,displayPrice:"398,00",paymentTimes:"5x de R$30,00",colors:["marron"],sizes:["p","g","gg"],addedOn:"2012-05-26 12:00:00"},{product:"CARDIGAN OFF WHITE",img:"/img/img_5.png",price:99,displayPrice:"99,00",paymentTimes:"3x de R33,30",colors:["branco"],sizes:["p","m","g"],addedOn:"2012-05-26 12:00:00"},{product:"BODY LEOPARDO",img:"/img/img_6.png",price:129,displayPrice:"129,00",paymentTimes:"3x de R$43,43",colors:["marron"],sizes:["m"],addedOn:"2012-05-26 12:00:00"},{product:"CASACO PELOS",img:"/img/img_7.png",price:398,displayPrice:"398,00",paymentTimes:"5x de R$30,00",colors:["rosa","azul"],sizes:["p","m","g","gg","u"],addedOn:"2012-05-26 12:00:00"},{product:"CROPPED STRIPES",img:"/img/img_8.png",price:120,displayPrice:"120,00",paymentTimes:"3x de R$40,00",colors:["amarelo","colorido","laranja"],sizes:["p","m"],addedOn:"2012-05-26 12:00:00"},{product:"CAMISA TRANSPARENTE",img:"/img/img_9.png",price:398,displayPrice:"398,00",paymentTimes:"3x de R$30,00",colors:["preto","transparente"],sizes:["p","m","g"],addedOn:"2012-05-26 12:00:00"},{product:"POCHETE CLUTCH",img:"/img/img_10.png",price:99,displayPrice:"99,00",paymentTimes:"3x de R$33,00",colors:["preto"],sizes:["p","m"],addedOn:"2012-05-26 12:00:00"}],products={_productsOptions:{productsAmount:6},_setProducts:function(t){$(".products__content").empty(),t.length>products._productsOptions.productsAmount?$("#loadMoreBtn").show():$("#loadMoreBtn").hide(),t.forEach((function(t,e){if(e>=products._productsOptions.productsAmount)return!1;$(".products__content").append('\n              <div class="products__item" data-colors="'.concat(t.colors,'">\n              <div class="products__item__img">\n              <img src="').concat(t.img,'" alt="" srcset="">\n              </div>\n              <span class="products__item__title product__title">\n              ').concat(t.product,'\n              </span>\n              <span class="products__item__price product__price">\n              R$ ').concat(t.displayPrice,'\n              </span>\n              <span class="products__item__price-info product__info">\n              at√© ').concat(t.paymentTimes,'\n              </span>\n              <a href="javascript:void(0)" class="btn btn--black">COMPRAR</a>\n              </div>\n              '))}))}},catalog={_getColors:function(){var t=$("input[name='color']"),e=[];return t.each((function(t,o){$(o).is(":checked")&&e.push($(this).val())})),e},_getSizes:function(){var t=$("input[name='size']"),e=[];return t.each((function(t,o){$(o).is(":checked")&&e.push($(this).val())})),e},_getPriceRange:function(){var t=$("input[name=range-price]:checked");return!(!t.val()||"01"==t.val())&&t.val().split("-")},_filters:function(){$("input[name='color'], input[name='size'], input[name=range-price] ").on("change",(function(){catalog._changeProducts()}))},_changeProducts:function(){"latest"===$("#order").val()&&productslist.sort((function(t,e){return new Date(e.addedOn)-new Date(t.addedOn)})),"price"===$("#order").val()&&productslist.sort((function(t,e){return t.price-e.price})),"expensive"===$("#order").val()&&productslist.sort((function(t,e){return e.price-t.price}));var t=productslist.filter((function(t,e){if(0==catalog._getColors())return!0;for(var o in catalog._getColors())if(t.colors.includes(catalog._getColors()[o]))return t.colors.includes(catalog._getColors()[o])})).filter((function(t,e){if(0==catalog._getSizes())return!0;for(var o in catalog._getSizes())if(t.sizes.includes(catalog._getSizes()[o]))return t.sizes.includes(catalog._getSizes()[o])})).filter((function(t,e){var o=catalog._getPriceRange();return!o||t.price>=o[0]&&t.price<=o[1]}));products._setProducts(t)}},uiControl={_loadMore:function(){$("#loadMoreBtn").on("click",(function(){products._productsOptions.productsAmount+=products._productsOptions.productsAmount,catalog._changeProducts()}))},_showMoreColors:function(){$("#showMoreColors").on("click",(function(){$(".side-bar__colors__label").fadeIn(),$(this).hide()}))},_mobileCatalog:function(){$("#mobile-filter-btn").on("click",(function(){$(".catalog").fadeIn(),$(".catalog__filters").fadeIn(),$("body").css("overflow","hidden")})),$("#mobile-order-btn").on("click",(function(){$(".catalog").fadeIn(),$(".catalog__order").fadeIn(),$("body").css("overflow","hidden")})),$(".closeCatalog").on("click",(function(){$(".catalog").hide(),$(".catalog__filters").hide(),$(".catalog__order").hide(),$("body").css("overflow","scroll")})),$(".catalog__items-icon").on("click",(function(){"closed"===$(this).data().status?($($(this).data().ref).show(),$(this).data().status="opened",$(this).attr("src","/img/minus.svg")):($($(this).data().ref).hide(),$(this).data().status="closed",$(this).attr("src","/img/plus.svg"))})),$(".mobile-order").on("click",(function(){$("#order").val($(this).data().value),$(".catalog").hide(),$(".catalog__order").hide(),$("body").css("overflow","scroll"),catalog._changeProducts()}))},init:function(){uiControl._loadMore(),uiControl._showMoreColors(),uiControl._mobileCatalog()}};$(document).ready((function(){catalog._filters(),uiControl.init(),products._setProducts(productslist)}));